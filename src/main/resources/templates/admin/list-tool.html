<!DOCTYPE html>
<html lang="ja" xmlns:th= "http://www.thymeleaf.org">
<head th:replace="~{admin/parts/common :: html_head()}"></head>
<body>
  <header th:replace="~{admin/parts/common :: header()}"></header>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
		 <div class="alert alert-success" th:if="${message}">
		         [[${message}]]
		 </div>
		 
		 <h2 class="h4">出庫依頼</h2>
		 <div th:if="${#lists.size(shippingList) < 1}" class="alert alert-primary">出庫依頼済・出庫済の工具はありません</div>
		 <table th:if="${#lists.size(shippingList) >= 1}" class="table table-bordered">
		   <thead>
		     <tr>
		 	  <th>発送番号</th>
			   <th>差出人の氏名</th>
		       <th>受取人の氏名</th>
		       <th>受取人の住所</th>
		       <th>発送希望日</th>
		       <th>到着希望日</th>
		 	  <th>出庫工具</th>
		 	  <th>出庫依頼</th>
		     </tr>
		   </thead>
		   <tbody>
		     <tr th:each="shipping : ${shippingList}" th:object="${shipping}">
		 	   <td><a th:href="@{/admin/tool/showShipping/{id}(id=*{id})}">[[*{id}]]</a></td>
			   <td>[[*{senderName}]]</td>
		       <td>[[*{recipientName}]]</td>
		       <td>[[*{recipientAddress}]]</td>
		       <td>[[*{shipDate}]]</td>
		 	   <td>[[*{arrivalDate}]]</td>
		       <td><a th:href="@{/admin/tool/toolList/{id}(id=*{id})}">出庫工具</a></td>
		 	   <td><a th:href="@{/admin/tool/borrow/{id}(id=*{id})}" class="btn btn-success btn-sm">出庫</a></td>
		     </tr>
		   </tbody>
		 </table>
				
         <p>
           <a th:href="@{/admin/tool/add}" class="btn btn-primary">工具の追加</a>
           <a th:href="@{/admin/employee/list}" class="btn btn-light">従業員リスト</a>
         </p>
		<h2 class="h4">工具リスト</h2>
		<div th:if="${#lists.size(toolList) < 1}" class="alert alert-danger">登録されている工具はありません</div>
        <table  th:if="${#lists.size(toolList) >= 1}" class="table table-bordered">
          <thead>
            <tr>
			  <th>管理番号</th>
              <th>品名</th>
              <th>詳細情報</th>
              <th>メーカー</th>
              <th>編集</th>
              <th>削除</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="tool : ${toolList}">
	          <td><a th:href="@{/admin/tool/show/{id}(id=${tool.id})}">[[${tool.mgmtId}]]</a></td>
			  <td>[[${tool.name}]]</td>
	          <td>[[${tool.detailInfo}]]</td>
	          <td>[[${tool.makerType.name}]]</td>
	          <td><a th:href="@{/admin/tool/edit/{id}(id=${tool.id})}" class="btn btn-warning btn-sm">編集</a></td>
	          <td><a th:href="@{/admin/tool/delete/{id}(id=${tool.id})}" class="btn btn-danger btn-sm delete">削除</a></td>
	        </tr>
          </tbody>
        </table>

        <div th:replace="~{widget/pagination :: pagination(${totalPages}, ${currentPage}, 'admin/tool/list')}"></div>
      </div><!-- /.col- -->
    </div><!-- /.row -->
  </div><!-- /.container -->
  
  <th:block th:replace="~{admin/parts/common :: javascripts()}"></th:block>
</body>
</html>